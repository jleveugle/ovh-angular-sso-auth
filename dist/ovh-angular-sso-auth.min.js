!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){n(2),e.exports="ngCookies"},function(e,t,n){"use strict";n.r(t);var o=n(0),i=n.n(o),r=function(e,t){return{request:function(n){var o=t.getUrlPrefix(n.serviceType);return new RegExp(/(?:(?:\.html)|(?:Messages\w+\.json))$/i).test(n.url)?n:t.getSsoAuthPendingPromise().then(function(){if(n.headers=angular.extend(angular.copy(t.getHeaders()),n.headers),o&&!/^http(?:s)?:\/\//.test(n.url)&&(n.url=o+n.url),n.timeout){var i=e.defer();n.timeout.then(function(){i.resolve()}),n.noAuthenticate||t.getRequestPromise().then(function(){i.resolve()}),n.timeout=i.promise}else n.noAuthenticate||(n.timeout=t.getRequestPromise());return n})},responseError:function(n){return t.isLogged().then(function(o){return 403!==n.status||"This session is forbidden"!==n.data.message&&"This session is invalid"!==n.data.message||(n.status=401),401!==n.status||n.config.preventLogout?471===n.status?(t.goToLoginPage(),e.reject(n)):n.config&&n.config.noAuthenticate||o?e.reject(n):(t.logout(),e.reject(n)):(t.logout(),e.reject(n))})}}};r.$inject=["$q","ssoAuthentication"];t.default=angular.module("ovh-angular-sso-auth",[i.a]).provider("ssoAuthentication",function(){var e="https://www.ovh.com/auth",t="https://www.ovh.com/auth?action=disconnect",n="/engine/api/me",o=[],i=null;this.setLoginUrl=function(t){e=t},this.setLogoutUrl=function(e){t=e},this.setUserUrl=function(e){n=e},this.setConfig=function(e){o=e},this.setOvhSubsidiary=function(e){i=e};this.$get=["$q","$timeout","$location","$window","$cookies",function(r,s,u,c,a){return new function(r,s,u,c,a){var f=!1,g={"Content-Type":"application/json;charset=utf-8",Accept:"application/json"},l={login:r.defer(),logout:void 0,loginPage:void 0};this.userId=void 0,this.user={},this.getLoginUrl=function(){return e},this.getLogoutUrl=function(){return t},this.getUserUrl=function(){return n},this.getUrlPrefix=function(e){if(!o||!Array.isArray(o)||!o.length)return"";if(e){for(var t=0,n=null;t<o.length&&o[t].serviceType!==e;)t++;return(n=o[t])&&n.hasOwnProperty("urlPrefix")?n.urlPrefix:""}return o[0].urlPrefix},this.isLogged=function(){return l.login.promise.then(function(){return f})},this.getRequestPromise=function(){return this.isLogged().then(function(e){return e?s(function(){return!0},18e5):r.when(!0)})},this.setIsLoggedIn=function(){f=!0,l.login.resolve()},this.sessionCheckOrGoLogin=function(){var e=this;return this.isLogged().then(function(t){if(!t)return e.goToLoginPage()})},this.getHeaders=function(){return g},this.getUserIdCookie=function(){return"function"==typeof a.get?a.get("USERID"):a.USERID},this.login=function(){var e=this;return $.ajax({url:e.getUserUrl(),method:"GET",headers:g}).done(function(t){e.user=t,f=!0}).fail(function(){f=!1}).always(function(){e.userId=e.getUserIdCookie(),l.login.resolve()}),l.login.promise},this.handleSwitchSession=function(){return c.location.reload(),r.defer().promise},this.getSsoAuthPendingPromise=function(){var e=this;return l.login.promise.then(function(){var t=e.getUserIdCookie();if(e.userId!==t)return e.handleSwitchSession(t)})},this.logout=function(e){return l.logout||(l.logout=r.defer(),f=!1,s(function(){c.location.assign(t+(t.indexOf("onsuccess")>-1?"":(t.indexOf("?")>-1?"&":"?")+"onsuccess="+encodeURIComponent(e||u.absUrl())))},0)),l.logout.promise},this.goToLoginPage=function(t){return l.loginPage||(l.loginPage=r.defer(),s(function(){var n=[];i&&n.push("ovhSubsidiary="+i),-1===e.indexOf("onsuccess")&&n.push("onsuccess="+encodeURIComponent(t||u.absUrl())),c.location.assign(e+(e.indexOf("?")>-1?"&":"?")+n.join("&"))},0)),l.loginPage.promise}}(r,s,u,c,a)}]}).factory("ssoAuthInterceptor",r).name},function(e,t){
/**
 * @license AngularJS v1.7.0
 * (c) 2010-2018 Google, Inc. http://angularjs.org
 * License: MIT
 */
!function(e,t){"use strict";function n(e,n,o){var i=o.baseHref(),r=e[0];return function(e,o,s){r.cookie=function(e,o,r){var s,u;u=(r=r||{}).expires,s=t.isDefined(r.path)?r.path:i,t.isUndefined(o)&&(u="Thu, 01 Jan 1970 00:00:00 GMT",o=""),t.isString(u)&&(u=new Date(u));var c=encodeURIComponent(e)+"="+encodeURIComponent(o);c+=s?";path="+s:"",c+=r.domain?";domain="+r.domain:"",c+=u?";expires="+u.toUTCString():"";var a=(c+=r.secure?";secure":"").length+1;return a>4096&&n.warn("Cookie '"+e+"' possibly not set or overflowed because it was too large ("+a+" > 4096 bytes)!"),c}(e,o,s)}}t.module("ngCookies",["ng"]).info({angularVersion:"1.7.0"}).provider("$cookies",[function(){var e=this.defaults={};function n(n){return n?t.extend({},e,n):e}this.$get=["$$cookieReader","$$cookieWriter",function(e,o){return{get:function(t){return e()[t]},getObject:function(e){var n=this.get(e);return n?t.fromJson(n):n},getAll:function(){return e()},put:function(e,t,i){o(e,t,n(i))},putObject:function(e,n,o){this.put(e,t.toJson(n),o)},remove:function(e,t){o(e,void 0,n(t))}}}]}]),n.$inject=["$document","$log","$browser"],t.module("ngCookies").provider("$$cookieWriter",function(){this.$get=n})}(window,window.angular)}]);